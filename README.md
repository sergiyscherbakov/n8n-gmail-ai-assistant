# n8n AI Email Assistant with Gmail & Google Sheets

![n8n](https://img.shields.io/badge/n8n-latest-EA4B71?style=for-the-badge&logo=n8n&logoColor=white) ![OpenAI](https://img.shields.io/badge/OpenAI-GPT--5--nano-412991?style=for-the-badge&logo=openai&logoColor=white) ![Node.js](https://img.shields.io/badge/Node.js-18-339933?style=for-the-badge&logo=node.js&logoColor=white) ![Gmail](https://img.shields.io/badge/Gmail-API-EA4335?style=for-the-badge&logo=gmail&logoColor=white) ![Google Sheets](https://img.shields.io/badge/Google%20Sheets-API-34A853?style=for-the-badge&logo=google-sheets&logoColor=white)

## –ê–≤—Ç–æ—Ä

**–†–æ–∑—Ä–æ–±–Ω–∏–∫:** –°–µ—Ä–≥—ñ–π –©–µ—Ä–±–∞–∫–æ–≤
**Email:** sergiyscherbakov@ukr.net
**Telegram:** @s_help_2010

### üí∞ –ü—ñ–¥—Ç—Ä–∏–º–∞—Ç–∏ —Ä–æ–∑—Ä–æ–±–∫—É
–ó–∞–¥–æ–Ω–∞—Ç–∏—Ç–∏ –Ω–∞ –∫–∞–≤—É USDT (BINANCE SMART CHAIN):
**`0xDFD0A23d2FEd7c1ab8A0F9A4a1F8386832B6f95A`**

---

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–∏–π AI-–∞—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –æ–±—Ä–æ–±–∫–∏ email, —è–∫–∏–π —á–∏—Ç–∞—î –≤—Ö—ñ–¥–Ω—É –ø–æ—à—Ç—É Gmail, –≥–µ–Ω–µ—Ä—É—î –µ–∫—Å–ø–µ—Ä—Ç–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é —á–µ—Ä–µ–∑ OpenAI GPT-5 nano, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —Ç–∞ –ª–æ–≥—É—î –≤—Å—é –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—é –≤ Google Sheets –¥–ª—è –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏.

**AI Email Assistant Workflow** ‚Äî a complete n8n automation that monitors Gmail for new messages, generates expert responses in Ukrainian using OpenAI, automatically replies to emails, and logs all interactions to Google Sheets for tracking and analytics.

## üìã –ó–º—ñ—Å—Ç

- [–û–≥–ª—è–¥](#–æ–≥–ª—è–¥)
- [–ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ](#–º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ)
- [–ü–µ—Ä–µ–¥—É–º–æ–≤–∏](#–ø–µ—Ä–µ–¥—É–º–æ–≤–∏)
- [–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è](#–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è)
- [–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è](#–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è)
- [–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ Workflow](#–∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞-workflow)
- [–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è](#–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è)
- [–ü—Ä–∏–∫–ª–∞–¥ –†–æ–±–æ—Ç–∏](#–ø—Ä–∏–∫–ª–∞–¥-—Ä–æ–±–æ—Ç–∏)
- [–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è AI –ê–≥–µ–Ω—Ç–∞](#–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è-ai-–∞–≥–µ–Ω—Ç–∞)
- [Google Sheets Integration](#google-sheets-integration)
- [Troubleshooting](#troubleshooting)
- [–†–æ–∑—à–∏—Ä–µ–Ω–Ω—è —Ç–∞ –ö–∞—Å—Ç–æ–º—ñ–∑–∞—Ü—ñ—è](#—Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è-—Ç–∞-–∫–∞—Å—Ç–æ–º—ñ–∑–∞—Ü—ñ—è)
- [Best Practices](#best-practices)
- [FAQ](#faq)
- [–ê–≤—Ç–æ—Ä](#–∞–≤—Ç–æ—Ä)

## –û–≥–ª—è–¥

–¶–µ–π n8n workflow —Å—Ç–≤–æ—Ä—é—î –ø–æ–≤–Ω—ñ—Å—Ç—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–æ–≥–æ email-–∞—Å–∏—Å—Ç–µ–Ω—Ç–∞, —è–∫–∏–π:

- üìß **–ú–æ–Ω—ñ—Ç–æ—Ä–∏—Ç—å Gmail** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î –Ω–æ–≤—ñ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω—ñ –ª–∏—Å—Ç–∏
- ü§ñ **–ì–µ–Ω–µ—Ä—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —á–µ—Ä–µ–∑ AI** ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î OpenAI GPT-5 nano —è–∫ –µ–∫—Å–ø–µ—Ä—Ç-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç
- üìù **–í—ñ–¥–ø–æ–≤—ñ–¥–∞—î —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é** ‚Äî –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω—ñ, —Å—Ç–∏—Å–ª—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –¥–æ 100 —Å–ª—ñ–≤
- ‚úâÔ∏è **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î replies** ‚Äî –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤—Ç—Ä—É—á–∞–Ω–Ω—è
- üìä **–õ–æ–≥—É—î –≤ Google Sheets** ‚Äî –∑–±–µ—Ä—ñ–≥–∞—î –≤—Å—é —ñ—Å—Ç–æ—Ä—ñ—é –¥–ª—è –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏
- üíæ **–ó–±–µ—Ä—ñ–≥–∞—î –∫–æ–Ω—Ç–µ–∫—Å—Ç** ‚Äî –ø–∞–º'—è—Ç–∞—î –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ thread

### –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –∫–ª—ñ—î–Ω—Ç—ñ–≤
- –í—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –ø–æ—à–∏—Ä–µ–Ω—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è
- Email-–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—ó
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Ç–µ—Ö. –ø—ñ–¥—Ç—Ä–∏–º–∫–∞
- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–π email-–∞—Å–∏—Å—Ç–µ–Ω—Ç

## –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### ‚úÖ –û—Å–Ω–æ–≤–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

- **Gmail Trigger** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —á–∏—Ç–∞–Ω–Ω—è –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–∏—Ö emails
- **AI Expert Responses** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π —á–µ—Ä–µ–∑ OpenAI GPT-5 nano
- **Ukrainian Language** ‚Äî –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é (–Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è)
- **Structured Output** ‚Äî —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π (to, topic, message)
- **Auto-Reply** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –Ω–∞ email
- **Google Sheets Logging** ‚Äî –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö –≤–∑–∞—î–º–æ–¥—ñ–π
- **Conversation Memory** ‚Äî –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ email threads
- **Scheduled Polling** ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ—à—Ç–∏ –∑–∞ —Ä–æ–∑–∫–ª–∞–¥–æ–º

### üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

- **Zero-Code Setup** ‚Äî –≤—ñ–∑—É–∞–ª—å–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –≤ n8n
- **Secure Credentials** ‚Äî OAuth2 –¥–ª—è Gmail —Ç–∞ Google Sheets
- **Scalable** ‚Äî –æ–±—Ä–æ–±–∫–∞ –±–∞–≥–∞—Ç—å–æ—Ö emails
- **Context-Aware** ‚Äî –ø–∞–º'—è—Ç—å –¥–æ 50 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- **Customizable Prompts** ‚Äî –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ AI
- **Error Handling** ‚Äî –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

## –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

### –û–±–æ–≤'—è–∑–∫–æ–≤–æ

1. **n8n Cloud Account**
   - –°—Ç–≤–æ—Ä—ñ—Ç—å –∞–∫–∞—É–Ω—Ç –Ω–∞ [app.n8n.cloud](https://app.n8n.cloud/)
   - –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π —Ç–∞—Ä–∏—Ñ–Ω–∏–π –ø–ª–∞–Ω –¥–æ—Å—Ç—É–ø–Ω–∏–π

2. **Gmail Account**
   - Gmail –∞–∫–∞—É–Ω—Ç –∑ —É–≤—ñ–º–∫–Ω–µ–Ω–∏–º API –¥–æ—Å—Ç—É–ø–æ–º
   - OAuth2 credentials –¥–ª—è n8n

3. **OpenAI API Key**
   - –ê–∫–∞—É–Ω—Ç –Ω–∞ [platform.openai.com](https://platform.openai.com/)
   - API –∫–ª—é—á –∑ –¥–æ—Å—Ç—É–ø–æ–º –¥–æ GPT –º–æ–¥–µ–ª–µ–π
   - –î–æ—Å—Ç—É–ø–Ω—ñ –∫—Ä–µ–¥–∏—Ç–∏ –∞–±–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–µ –±—ñ–ª–ª—ñ–Ω–≥

4. **Google Sheets**
   - Google –∞–∫–∞—É–Ω—Ç
   - –°—Ç–≤–æ—Ä–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü—è –¥–ª—è –ª–æ–≥—É–≤–∞–Ω–Ω—è (–∞–±–æ workflow —Å—Ç–≤–æ—Ä–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)

### –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ

- –ë–∞–∑–æ–≤–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è n8n
- –ó–Ω–∞–Ω–Ω—è Gmail API
- –î–æ—Å–≤—ñ–¥ —Ä–æ–±–æ—Ç–∏ –∑ Google Sheets API

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### –ö—Ä–æ–∫ 1: –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ Workflow

–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ JSON —Ñ–∞–π–ª –∑ —Ü—å–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é:
- **–§–∞–π–ª:** `My workflow 2-1.json`

### –ö—Ä–æ–∫ 2: –î–æ—Å—Ç—É–ø –¥–æ n8n Cloud

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [app.n8n.cloud](https://app.n8n.cloud/)
2. –£–≤—ñ–π–¥—ñ—Ç—å –≤ —Å–≤—ñ–π –∞–∫–∞—É–Ω—Ç
3. –í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ä–æ–∑–¥—ñ–ª **Workflows**

### –ö—Ä–æ–∫ 3: –Ü–º–ø–æ—Ä—Ç Workflow

#### –ú–µ—Ç–æ–¥ A: –ß–µ—Ä–µ–∑ Import Button

1. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"+ New Workflow"** –∞–±–æ **"Import from File"**
2. –í–∏–±–µ—Ä—ñ—Ç—å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏–π —Ñ–∞–π–ª `My workflow 2-1.json`
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Import"**
4. Workflow –∑'—è–≤–∏—Ç—å—Å—è —É –≤–∞—à–æ–º—É workspace

#### –ú–µ—Ç–æ–¥ B: –ß–µ—Ä–µ–∑ JSON Code

1. –°—Ç–≤–æ—Ä—ñ—Ç—å **New Workflow**
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ **—Ç—Ä–∏ –∫—Ä–∞–ø–∫–∏ (‚ãÆ)** –≤ –ø—Ä–∞–≤–æ–º—É –≤–µ—Ä—Ö–Ω—å–æ–º—É –∫—É—Ç—ñ
3. –í–∏–±–µ—Ä—ñ—Ç—å **"Import from JSON"**
4. –í—Å—Ç–∞–≤—Ç–µ –≤–º—ñ—Å—Ç —Ñ–∞–π–ª—É `My workflow 2-1.json`
5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Import"**

### –ö—Ä–æ–∫ 4: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ü–º–ø–æ—Ä—Ç—É

–ü—ñ—Å–ª—è —ñ–º–ø–æ—Ä—Ç—É –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ 6 nodes:

1. **Gmail Trigger** ‚Äî —Ç—Ä–∏–≥–µ—Ä –¥–ª—è –Ω–æ–≤–∏—Ö emails
2. **AI Agent** ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π AI –æ–±—Ä–æ–±–Ω–∏–∫
3. **OpenAI Chat Model** ‚Äî GPT-5 nano –º–æ–¥–µ–ª—å
4. **Simple Memory** ‚Äî –±—É—Ñ–µ—Ä–Ω–∞ –ø–∞–º'—è—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
5. **Structured Output Parser** ‚Äî –ø–∞—Ä—Å–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–æ–≥–æ –≤–∏–≤–æ–¥—É
6. **Send Gmail Reply** ‚Äî –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
7. **Log to Google Sheets** ‚Äî –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤ —Ç–∞–±–ª–∏—Ü—é

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### 1. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Gmail Credentials

#### –î–æ–¥–∞—Ç–∏ Gmail OAuth2

1. –ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ **"Gmail Trigger"** node
2. –£ —Å–µ–∫—Ü—ñ—ó **"Credential to connect with"** –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å dropdown
3. –í–∏–±–µ—Ä—ñ—Ç—å **"Create New Credential"**
4. –í–∏–±–µ—Ä—ñ—Ç—å —Ç–∏–ø: **"Gmail OAuth2 API"**
5. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –¥–∞–Ω—ñ:
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Connect my account"**
   - –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ Google
   - –î–æ–∑–≤–æ–ª—å—Ç–µ n8n –¥–æ—Å—Ç—É–ø –¥–æ Gmail
6. –ó–±–µ—Ä–µ–∂—ñ—Ç—å credential
7. –ó–∞—Å—Ç–æ—Å—É–π—Ç–µ —Ç–æ–π –∂–µ credential –¥–æ **"Send Gmail Reply"** node

#### –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Filters

–£ **Gmail Trigger** node:

```json
{
  "filters": {
    "readStatus": "unread"
  }
}
```

**–û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ** –¥–æ–¥–∞–π—Ç–µ —Ñ—ñ–ª—å—Ç—Ä–∏:
- **Sender** ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫
- **Subject Contains** ‚Äî –ø–æ—à—É–∫ –∑–∞ —Ç–µ–º–æ—é
- **Labels** ‚Äî —Ñ—ñ–ª—å—Ç—Ä –∑–∞ –º—ñ—Ç–∫–∞–º–∏ Gmail

#### –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Schedule

–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –ø–µ—Ä–µ–≤—ñ—Ä—è—î –ø–æ—à—Ç—É –æ 13:00:

```json
{
  "pollTimes": {
    "item": [
      {
        "hour": 13
      }
    ]
  }
}
```

–ó–º—ñ–Ω—ñ—Ç—å –Ω–∞ –ø–æ—Ç—Ä—ñ–±–Ω–∏–π —á–∞—Å –∞–±–æ –¥–æ–¥–∞–π—Ç–µ –∫—ñ–ª—å–∫–∞ —á–∞—Å—ñ–≤:

```json
{
  "pollTimes": {
    "item": [
      { "hour": 9 },
      { "hour": 13 },
      { "hour": 17 }
    ]
  }
}
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è OpenAI Credentials

#### –î–æ–¥–∞—Ç–∏ OpenAI API Key

1. –ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ **"OpenAI Chat Model"** node
2. –£ —Å–µ–∫—Ü—ñ—ó **"Credential to connect with"** –∫–ª—ñ–∫–Ω—ñ—Ç—å dropdown
3. –í–∏–±–µ—Ä—ñ—Ç—å **"Create New Credential"**
4. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å:
   - **Name:** "OpenAI API"
   - **API Key:** –í—Å—Ç–∞–≤—Ç–µ –≤–∞—à API –∫–ª—é—á –∑ [platform.openai.com/api-keys](https://platform.openai.com/api-keys)
5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Save"**

#### –í–∏–±—Ä–∞—Ç–∏ –º–æ–¥–µ–ª—å

–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è **gpt-5-nano** (–µ–∫–æ–Ω–æ–º–Ω–∞ –º–æ–¥–µ–ª—å).

–©–æ–± –∑–º—ñ–Ω–∏—Ç–∏:
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ **OpenAI Chat Model** node
2. –£ **Parameters** –∑–Ω–∞–π–¥—ñ—Ç—å **"Model"**
3. –í–∏–±–µ—Ä—ñ—Ç—å —ñ–Ω—à—É –º–æ–¥–µ–ª—å:
   - `gpt-4` ‚Äî –Ω–∞–π–ø–æ—Ç—É–∂–Ω—ñ—à–∞
   - `gpt-4-turbo` ‚Äî —à–≤–∏–¥—à–∞ –≤–µ—Ä—Å—ñ—è GPT-4
   - `gpt-3.5-turbo` ‚Äî –Ω–∞–π–¥–µ—à–µ–≤—à–∞

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Google Sheets

#### –°—Ç–≤–æ—Ä–∏—Ç–∏ Google Sheet

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [sheets.google.com](https://sheets.google.com/)
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤—É —Ç–∞–±–ª–∏—Ü—é: **"Gmail AI Logs"**
3. –î–æ–¥–∞–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ –ø–µ—Ä—à–∏–π —Ä—è–¥–æ–∫:
   ```
   to | message | subject | threadId | date
   ```

#### –î–æ–¥–∞—Ç–∏ Google Sheets Credentials

1. –ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ **"Log to Google Sheets"** node
2. –£ **"Credential to connect with"** –≤–∏–±–µ—Ä—ñ—Ç—å **"Create New Credential"**
3. –¢–∏–ø: **"Google Sheets OAuth2 API"**
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Connect my account"**
5. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ Google
6. –î–æ–∑–≤–æ–ª—å—Ç–µ –¥–æ—Å—Ç—É–ø –¥–æ Google Sheets
7. –ó–±–µ—Ä–µ–∂—ñ—Ç—å credential

#### –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Document ID

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∞—à—É Google —Ç–∞–±–ª–∏—Ü—é
2. –°–∫–æ–ø—ñ—é–π—Ç–µ ID –∑ URL:
   ```
   https://docs.google.com/spreadsheets/d/YOUR_SHEET_ID/edit
   ```
3. –£ node **"Log to Google Sheets"**:
   - –ó–Ω–∞–π–¥—ñ—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä **"documentId"**
   - –í—Å—Ç–∞–≤—Ç–µ **"YOUR_SHEET_ID"**
4. –£ **"sheetName"** –≤–∏–±–µ—Ä—ñ—Ç—å –ª–∏—Å—Ç (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º "–õ–∏—Å—Ç1" –∞–±–æ "Sheet1")

### 4. –ê–∫—Ç–∏–≤—É–≤–∞—Ç–∏ Workflow

1. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Active"** toggle –≤ –ø—Ä–∞–≤–æ–º—É –≤–µ—Ä—Ö–Ω—å–æ–º—É –∫—É—Ç—ñ
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ toggle –∑–µ–ª–µ–Ω–∏–π
3. Workflow —Ç–µ–ø–µ—Ä –∞–∫—Ç–∏–≤–Ω–∏–π —ñ –±—É–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏!

## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ Workflow

### –í—ñ–∑—É–∞–ª—å–Ω–∞ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇGmail Trigger ‚îÇ (–ù–æ–≤—ñ emails)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  AI Agent    ‚îÇ (–û–±—Ä–æ–±–∫–∞ —á–µ—Ä–µ–∑ AI)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚îÇ                      ‚îÇ
       ‚ñº                      ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇSend Reply   ‚îÇ      ‚îÇLog to Sheets   ‚îÇ
‚îÇ(Auto-email) ‚îÇ      ‚îÇ(Analytics)     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

AI Agent –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏–π –¥–æ:
‚îú‚îÄ OpenAI Chat Model (GPT-5 nano)
‚îú‚îÄ Simple Memory (–ö–æ–Ω—Ç–µ–∫—Å—Ç)
‚îî‚îÄ Structured Output Parser (–§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è)
```

### –î–µ—Ç–∞–ª—å–Ω–∏–π –û–ø–∏—Å Nodes

#### 1. Gmail Trigger
- **–¢–∏–ø:** `n8n-nodes-base.gmailTrigger`
- **–§—É–Ω–∫—Ü—ñ—è:** –ú–æ–Ω—ñ—Ç–æ—Ä–∏—Ç—å Gmail –Ω–∞ –Ω–æ–≤—ñ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω—ñ –ª–∏—Å—Ç–∏
- **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:**
  - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞ —Ä–æ–∑–∫–ª–∞–¥–æ–º (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –æ 13:00)
  - –§—ñ–ª—å—Ç—Ä: —Ç—ñ–ª—å–∫–∏ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω—ñ (`unread`)
  - –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ: —Ñ—ñ–ª—å—Ç—Ä –∑–∞ –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–æ–º
- **–í–∏—Ö—ñ–¥:** –î–∞–Ω—ñ email (subject, text, from, to, date, threadId, messageId)

#### 2. AI Agent
- **–¢–∏–ø:** `@n8n/n8n-nodes-langchain.agent`
- **–§—É–Ω–∫—Ü—ñ—è:** –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π –æ–±—Ä–æ–±–Ω–∏–∫ AI –ª–æ–≥—ñ–∫–∏
- **System Prompt:** –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π —è–∫ –µ–∫—Å–ø–µ—Ä—Ç-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é
- **–û–±–º–µ–∂–µ–Ω–Ω—è:** –ú–∞–∫—Å–∏–º—É–º 100 —Å–ª—ñ–≤ –≤—ñ–¥–ø–æ–≤—ñ–¥—å
- **Input:** –î–∞–Ω—ñ –∑ Gmail Trigger
- **Output:** –°—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π –æ–±'—î–∫—Ç (to, topic, message)

**Prompt Template:**
```
–¢–µ–º–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: {{ $json.subject }}
–¢–µ–∫—Å—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: {{ $json.text }}
–í—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫: {{ $json.from.value[0].address }}
–û–¥–µ—Ä–∂—É–≤–∞—á: {{ $json.to.value[0].address }}
–î–∞—Ç–∞: {{ $json.date }}
```

**System Message:**
```
üéì –¢–ò - –ï–ö–°–ü–ï–†–¢-–ö–û–ù–°–£–õ–¨–¢–ê–ù–¢
–¢–∏ –¥–æ—Å–≤—ñ–¥—á–µ–Ω–∏–π –∞–∫–∞–¥–µ–º—ñ–∫, —è–∫–∏–π –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ—Å—Ç–∏–º–∏,
–∑—Ä–æ–∑—É–º—ñ–ª–∏–º–∏ —Ä–µ—á–µ–Ω–Ω—è–º–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é. –ú–∞–∫—Å–∏–º—É–º 100 —Å–ª—ñ–≤.

üì® –¢–í–û–Ø –ó–ê–î–ê–ß–ê
1. –ü—Ä–æ—á–∏—Ç–∞–π –ü–ò–¢–ê–ù–ù–Ø –∑ "–¢–µ–∫—Å—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è"
2. –î–∞–π –µ–∫—Å–ø–µ—Ä—Ç–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å —è–∫ –∞–∫–∞–¥–µ–º—ñ–∫ –ø—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏
3. –¢–≤–æ—è –≤—ñ–¥–ø–æ–≤—ñ–¥—å –±—É–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–∞ email —Ç–∞ –∑–∞–ø–∏—Å–∞–Ω–∞ –≤ Google Sheets

üìù –°–¢–ò–õ–¨ –í–Ü–î–ü–û–í–Ü–î–ï–ô
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ –ø–æ —Å—É—Ç—ñ –ø–∏—Ç–∞–Ω–Ω—è
- –ë–µ–∑ "–≤–æ–¥–∏" —Ç–∞ –∑–∞–≥–∞–ª—å–Ω–∏—Ö —Ñ—Ä–∞–∑
- –î—Ä—É–∂–Ω—å–æ —Ç–∞ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ
- –ú–∞–∫—Å–∏–º—É–º 100 —Å–ª—ñ–≤ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é
```

#### 3. OpenAI Chat Model
- **–¢–∏–ø:** `@n8n/n8n-nodes-langchain.lmChatOpenAi`
- **–ú–æ–¥–µ–ª—å:** GPT-5 nano (–µ–∫–æ–Ω–æ–º–Ω–∞, —à–≤–∏–¥–∫–∞)
- **–§—É–Ω–∫—Ü—ñ—è:** –ì–µ–Ω–µ—Ä—É—î AI –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- **–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è:** –î–æ AI Agent —è–∫ language model

#### 4. Simple Memory
- **–¢–∏–ø:** `@n8n/n8n-nodes-langchain.memoryBufferWindow`
- **–§—É–Ω–∫—Ü—ñ—è:** –ó–±–µ—Ä—ñ–≥–∞—î –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ä–æ–∑–º–æ–≤–∏
- **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:**
  - **Session Key:** `threadId` ‚Äî —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π ID email thread
  - **Window Length:** 50 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** AI –ø–∞–º'—è—Ç–∞—î –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ –ª–∏—Å—Ç–∏ –≤ thread

#### 5. Structured Output Parser
- **–¢–∏–ø:** `@n8n/n8n-nodes-langchain.outputParserStructured`
- **–§—É–Ω–∫—Ü—ñ—è:** –§–æ—Ä–º–∞—Ç—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥—å AI –≤ JSON —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- **Schema:**
```json
{
  "to": "email –æ—Ç—Ä–∏–º—É–≤–∞—á–∞",
  "topic": "—Ç–µ–º–∞ –ª–∏—Å—Ç–∞",
  "message": "—Ç–µ–∫—Å—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ"
}
```

#### 6. Send Gmail Reply
- **–¢–∏–ø:** `n8n-nodes-base.gmail`
- **–û–ø–µ—Ä–∞—Ü—ñ—è:** Send Email (Reply)
- **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:**
  - **Send To:** –ê–¥—Ä–µ—Å–∞ –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–∞ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ email
  - **Subject:** `Re: {{ original subject }}`
  - **Message:** –ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∞ AI –≤—ñ–¥–ø–æ–≤—ñ–¥—å
  - **Reply-To:** –û—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π –æ–¥–µ—Ä–∂—É–≤–∞—á
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î email reply

#### 7. Log to Google Sheets
- **–¢–∏–ø:** `n8n-nodes-base.googleSheets`
- **–û–ø–µ—Ä–∞—Ü—ñ—è:** Append (–¥–æ–¥–∞—Ç–∏ —Ä—è–¥–æ–∫)
- **–î–∞–Ω—ñ —â–æ –ª–æ–≥—É—é—Ç—å—Å—è:**
  - `to` ‚Äî –∫–æ–º—É –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ
  - `message` ‚Äî —Ç–µ–∫—Å—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
  - `subject` ‚Äî —Ç–µ–º–∞
  - `threadId` ‚Äî ID thread
  - `date` ‚Äî –¥–∞—Ç–∞/—á–∞—Å
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ —Ç–∞ —ñ—Å—Ç–æ—Ä—ñ—è

### –ü–æ—Ç—ñ–∫ –î–∞–Ω–∏—Ö

```
1. Email arrives ‚Üí Gmail Trigger
2. Extract data (subject, text, from, to, threadId)
3. Pass to AI Agent
4. AI Agent:
   a. Consult OpenAI Model for response
   b. Check Memory for conversation context
   c. Use Structured Parser for formatting
5. Output: { to, topic, message }
6. Fork into two actions:
   a. Send Reply via Gmail
   b. Log to Google Sheets
7. Mark email as processed
```

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è Workflow

#### –ö—Ä–æ–∫ 1: –ê–∫—Ç–∏–≤—É–≤–∞—Ç–∏

1. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ workflow **Active** (–∑–µ–ª–µ–Ω–∏–π toggle)
2. –í—Å—ñ credentials –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ
3. Google Sheet —Å—Ç–≤–æ—Ä–µ–Ω–∏–π

#### –ö—Ä–æ–∫ 2: –ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –¢–µ—Å—Ç–æ–≤–∏–π Email

1. –í—ñ–¥–ø—Ä–∞–≤—Ç–µ email –Ω–∞ Gmail –∞–¥—Ä–µ—Å—É, —è–∫–∞ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞ –≤ workflow
2. –¢–µ–º–∞: **"–¢–µ—Å—Ç AI –∞—Å–∏—Å—Ç–µ–Ω—Ç–∞"**
3. –¢–µ–∫—Å—Ç: **"–Ø–∫ –ø—Ä–∞—Ü—é—î –º–∞—à–∏–Ω–Ω–µ –Ω–∞–≤—á–∞–Ω–Ω—è?"**

#### –ö—Ä–æ–∫ 3: –î–æ—á–µ–∫–∞—Ç–∏—Å—å –í–∏–∫–æ–Ω–∞–Ω–Ω—è

1. Workflow –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è —É –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∑–∞–ø–ª–∞–Ω —á–∞—Å (–Ω–∞–ø—Ä. 13:00)
2. –ê–±–æ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Execute Workflow"** –¥–ª—è –Ω–µ–≥–∞–π–Ω–æ–≥–æ —Ç–µ—Å—Ç—É
3. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ **Executions** tab –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

#### –ö—Ä–æ–∫ 4: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –†–µ–∑—É–ª—å—Ç–∞—Ç–∏

1. **Email:** –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤—Ö—ñ–¥–Ω—ñ ‚Äî –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ AI –≤—ñ–¥–ø–æ–≤—ñ–¥—å
2. **Google Sheets:** –í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ç–∞–±–ª–∏—Ü—é ‚Äî –Ω–æ–≤–∏–π —Ä—è–¥–æ–∫ –∑ –ª–æ–≥–æ–º
3. **n8n Executions:** –ü–µ—Ä–µ–≥–ª—è–Ω—å –¥–µ—Ç–∞–ª—ñ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

### –†–µ–∂–∏–º –†—É—á–Ω–æ–≥–æ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

–î–ª—è —à–≤–∏–¥–∫–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –±–µ–∑ —á–µ–∫–∞–Ω–Ω—è —Ä–æ–∑–∫–ª–∞–¥—É:

1. –£ **Gmail Trigger** node –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Execute Node"**
2. Workflow —Å–∏–º—É–ª—é—î –æ—Ç—Ä–∏–º–∞–Ω–Ω—è email
3. –ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ **"Test workflow"** button –≤ top bar

### –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

#### Executions Tab

–ü–µ—Ä–µ–≥–ª—è–¥ –≤—Å—ñ—Ö –≤–∏–∫–æ–Ω–∞–Ω—å:
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ **Executions** –≤ –ª—ñ–≤–æ–º—É sidebar
2. –ö–æ–∂–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø–æ–∫–∞–∑—É—î:
   - Timestamp
   - Success/Error status
   - Input/Output –∫–æ–∂–Ω–æ–≥–æ node
   - Execution time

#### Google Sheets Dashboard

–í–∞—à–∞ —Ç–∞–±–ª–∏—Ü—è —Å—Ç–∞—î dashboard:
- –ö–æ–ª–æ–Ω–∫–∞ **to** ‚Äî –∫–æ–º—É –≤—ñ–¥–ø–æ–≤—ñ–ª–∏
- –ö–æ–ª–æ–Ω–∫–∞ **message** ‚Äî —â–æ –≤—ñ–¥–ø–æ–≤—ñ–ª–∏
- –ö–æ–ª–æ–Ω–∫–∞ **subject** ‚Äî –Ω–∞ —è–∫—É —Ç–µ–º—É
- –ö–æ–ª–æ–Ω–∫–∞ **date** ‚Äî –∫–æ–ª–∏
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Google Sheets filters/charts –¥–ª—è –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏

## –ü—Ä–∏–∫–ª–∞–¥ –†–æ–±–æ—Ç–∏

### –°—Ü–µ–Ω–∞—Ä—ñ–π: –ü–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ AI

**–í—Ö—ñ–¥–Ω–∏–π Email:**
```
From: user@example.com
Subject: –ü–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ —à—Ç—É—á–Ω–∏–π —ñ–Ω—Ç–µ–ª–µ–∫—Ç
Body: –ß–∏ –º–æ–∂–µ AI –∑–∞–º—ñ–Ω–∏—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç—ñ–≤ —É –º–∞–π–±—É—Ç–Ω—å–æ–º—É?
```

**–û–±—Ä–æ–±–∫–∞ Workflow:**

1. **Gmail Trigger** –æ—Ç—Ä–∏–º—É—î email
2. **AI Agent** –æ–±—Ä–æ–±–ª—è—î —á–µ—Ä–µ–∑ OpenAI:
   - System prompt: –µ–∫—Å–ø–µ—Ä—Ç-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç
   - Context: —á–∏—Ç–∞—î –ø–∏—Ç–∞–Ω–Ω—è
   - Memory: –ø–µ—Ä–µ–≤—ñ—Ä—è—î —á–∏ –±—É–ª–∏ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ –ª–∏—Å—Ç–∏ –≤ thread
3. **OpenAI** –≥–µ–Ω–µ—Ä—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥—å:
   ```
   AI —î –ø–æ—Ç—É–∂–Ω–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó —Ä—É—Ç–∏–Ω–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å
   –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è, –∞–ª–µ –Ω–µ –∑–∞–º—ñ–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç—ñ–≤ –ø–æ–≤–Ω—ñ—Å—Ç—é. –¢–≤–æ—Ä—á–µ
   –º–∏—Å–ª–µ–Ω–Ω—è, –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è —Ç–∞ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –±—ñ–∑–Ω–µ—Å-–∫–æ–Ω—Ç–µ–∫—Å—Ç—É
   –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –∑–∞ –ª—é–¥–∏–Ω–æ—é. AI —Å—Ç–∞–Ω–µ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–º –ø—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç–∞,
   –ø—ñ–¥–≤–∏—â—É—é—á–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å.
   ```
4. **Structured Parser** —Ñ–æ—Ä–º–∞—Ç—É—î:
   ```json
   {
     "to": "user@example.com",
     "topic": "Re: –ü–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ —à—Ç—É—á–Ω–∏–π —ñ–Ω—Ç–µ–ª–µ–∫—Ç",
     "message": "AI —î –ø–æ—Ç—É–∂–Ω–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º..."
   }
   ```
5. **Send Reply** –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î email –Ω–∞–∑–∞–¥
6. **Log to Sheets** –∑–±–µ—Ä—ñ–≥–∞—î –≤ —Ç–∞–±–ª–∏—Ü—é

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ—Ç—Ä–∏–º—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- ‚úÖ –†–æ–∑–º–æ–≤–∞ –∑–∞–ø–∏—Å–∞–Ω–∞ –≤ Google Sheets
- ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç –∑–±–µ—Ä–µ–∂–µ–Ω–∏–π –¥–ª—è –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –ø–∏—Ç–∞–Ω—å

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è AI –ê–≥–µ–Ω—Ç–∞

### –ó–º—ñ–Ω–∞ System Prompt

–©–æ–± –∑–º—ñ–Ω–∏—Ç–∏ –ø–æ–≤–µ–¥—ñ–Ω–∫—É AI:

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ **AI Agent** node
2. –ó–Ω–∞–π–¥—ñ—Ç—å **Options ‚Üí System Message**
3. –ó–º—ñ–Ω—ñ—Ç—å prompt:

**–ü—Ä–∏–∫–ª–∞–¥: Customer Support**
```
–¢–∏ - –¥—Ä—É–∂–Ω—ñ–π –∞—Å–∏—Å—Ç–µ–Ω—Ç —Ç–µ—Ö–Ω—ñ—á–Ω–æ—ó –ø—ñ–¥—Ç—Ä–∏–º–∫–∏.
–í—ñ–¥–ø–æ–≤—ñ–¥–∞–π –≤–≤—ñ—á–ª–∏–≤–æ, –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ —Ç–∞ —à–≤–∏–¥–∫–æ.
–Ø–∫—â–æ –Ω–µ –∑–Ω–∞—î—à –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ - –∑–∞–ø—Ä–æ–ø–æ–Ω—É–π –∑–≤–µ—Ä–Ω—É—Ç–∏—Å—å –¥–æ –ª—é–¥–∏–Ω–∏.
–ú–∞–∫—Å–∏–º—É–º 150 —Å–ª—ñ–≤.
```

**–ü—Ä–∏–∫–ª–∞–¥: Sales Assistant**
```
–¢–∏ - sales-–º–µ–Ω–µ–¥–∂–µ—Ä, —è–∫–∏–π –¥–æ–ø–æ–º–∞–≥–∞—î –∫–ª—ñ—î–Ω—Ç–∞–º –∑ –≤–∏–±–æ—Ä–æ–º –ø—Ä–æ–¥—É–∫—Ç—É.
–ë—É–¥—å –ø–µ—Ä–µ–∫–æ–Ω–ª–∏–≤–∏–º, –∞–ª–µ –Ω–µ –Ω–∞–≤'—è–∑–ª–∏–≤–∏–º.
–ó–∞–≤–∂–¥–∏ –ø—Ä–æ–ø–æ–Ω—É–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è.
–ú–∞–∫—Å–∏–º—É–º 200 —Å–ª—ñ–≤.
```

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ú–æ–≤–∏

–ó–º—ñ–Ω—ñ—Ç—å –º–æ–≤—É –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –≤ System Message:

```
Respond in English / –í—ñ–¥–ø–æ–≤—ñ–¥–∞–π —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é / –û—Ç–≤–µ—á–∞–π –Ω–∞ —Ä—É—Å—Å–∫–æ–º
```

### –û–±–º–µ–∂–µ–Ω–Ω—è –î–æ–≤–∂–∏–Ω–∏ –í—ñ–¥–ø–æ–≤—ñ–¥—ñ

–í System Prompt:
```
–ú–∞–∫—Å–∏–º—É–º 50 —Å–ª—ñ–≤    // –î—É–∂–µ –∫–æ—Ä–æ—Ç–∫–æ
–ú–∞–∫—Å–∏–º—É–º 100 —Å–ª—ñ–≤   // –°–µ—Ä–µ–¥–Ω—å–æ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)
–ú–∞–∫—Å–∏–º—É–º 200 —Å–ª—ñ–≤   // –î–µ—Ç–∞–ª—å–Ω–æ
```

–ê–±–æ –≤ OpenAI node:
1. **Options ‚Üí Maximum Tokens**
2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –ª—ñ–º—ñ—Ç (100 tokens ‚âà 75 —Å–ª—ñ–≤)

### –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (Creativity)

–£ **OpenAI Chat Model** node:

1. **Options ‚Üí Temperature**
2. –ó–Ω–∞—á–µ–Ω–Ω—è 0-1:
   - **0.1** ‚Äî –¥—É–∂–µ —Ç–æ—á–Ω—ñ, —Ñ–æ—Ä–º–∞–ª—å–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
   - **0.7** ‚Äî –±–∞–ª–∞–Ω—Å (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)
   - **1.0** ‚Äî –∫—Ä–µ–∞—Ç–∏–≤–Ω—ñ, —Ä—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

## Google Sheets Integration

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¢–∞–±–ª–∏—Ü—ñ

**–°—Ç–æ–≤–ø—Ü—ñ:**
| –ù–∞–∑–≤–∞ | –¢–∏–ø | –û–ø–∏—Å |
|-------|-----|------|
| **to** | Text | Email –∞–¥—Ä–µ—Å–∞ –æ—Ç—Ä–∏–º—É–≤–∞—á–∞ |
| **message** | Text | –ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∞ AI –≤—ñ–¥–ø–æ–≤—ñ–¥—å |
| **subject** | Text | –¢–µ–º–∞ –ª–∏—Å—Ç–∞ |
| **threadId** | Text | Gmail thread ID |
| **date** | DateTime | –î–∞—Ç–∞ —ñ —á–∞—Å –æ—Ç—Ä–∏–º–∞–Ω–Ω—è |

### –ü—Ä–∏–∫–ª–∞–¥ –î–∞–Ω–∏—Ö

```
to                    | message                                        | subject              | threadId             | date
user@example.com      | AI —î –ø–æ—Ç—É–∂–Ω–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º...                  | –ü–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ AI       | thread_abc123        | 2024-08-14 13:45:00
client@company.com    | –í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –±—É–¥–µ –≥–æ—Ç–æ–≤–µ...                 | –°—Ç–∞—Ç—É—Å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è    | thread_xyz789        | 2024-08-14 14:20:00
```

### –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ –≤ Google Sheets

#### –ë–∞–∑–æ–≤–∞ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–ö—ñ–ª—å–∫—ñ—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π:**
```
=COUNTA(B:B)-1
```

**–£–Ω—ñ–∫–∞–ª—å–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ:**
```
=UNIQUE(A:A)
```

#### –î–æ–¥–∞—Ç–∫–æ–≤—ñ –°—Ç–æ–≤–ø—Ü—ñ

–î–æ–¥–∞–π—Ç–µ –¥–ª—è –ø–æ–≥–ª–∏–±–ª–µ–Ω–æ—ó –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏:

**Response Length** (–î–æ–≤–∂–∏–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ):
```
=LEN(B2)
```

**Day of Week** (–î–µ–Ω—å —Ç–∏–∂–Ω—è):
```
=TEXT(E2,"dddd")
```

**Hour** (–ì–æ–¥–∏–Ω–∞):
```
=HOUR(E2)
```

#### Charts & Visualizations

1. **–í—ñ–¥–ø–æ–≤—ñ–¥–µ–π –∑–∞ –¥–µ–Ω—å:**
   - Select date column
   - Insert ‚Üí Chart ‚Üí Line chart

2. **–¢–æ–ø –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ:**
   - Pivot table –Ω–∞ –∫–æ–ª–æ–Ω—Ü—ñ `to`
   - Count of emails

3. **Peak hours:**
   - Extract hour from `date`
   - Chart distribution

### Backup & Export

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π backup:**
1. File ‚Üí Version history ‚Üí Name current version
2. –ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ Google Apps Script –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏—Ö –∫–æ–ø—ñ–π

**Export:**
- File ‚Üí Download ‚Üí CSV/Excel/PDF

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: Gmail Trigger –Ω–µ —Å–ø—Ä–∞—Ü—å–æ–≤—É—î

**–°–∏–º–ø—Ç–æ–º–∏:** Workflow –Ω–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ø—Ä–∏ –Ω–æ–≤–∏—Ö emails

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ workflow **Active** (–∑–µ–ª–µ–Ω–∏–π toggle)
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ **Poll Time** ‚Äî –º–æ–∂–ª–∏–≤–æ —â–µ –Ω–µ –Ω–∞—Å—Ç–∞–≤ —á–∞—Å
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ **Filters** ‚Äî –º–æ–∂–ª–∏–≤–æ email –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —É–º–æ–≤–∞–º
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Gmail credentials ‚Äî –æ–Ω–æ–≤—ñ—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—é
5. –£ Gmail Trigger –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Test"** –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏

**Troubleshooting Gmail API:**
```
Error: Insufficient Permission
‚Üí –†—ñ—à–µ–Ω–Ω—è: –ü–æ–≤—Ç–æ—Ä–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ OAuth, –Ω–∞–¥–∞–π—Ç–µ –≤—Å—ñ –¥–æ–∑–≤–æ–ª–∏
```

### –ü—Ä–æ–±–ª–µ–º–∞: OpenAI Error

**Error:** "Invalid API Key"

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ API key –Ω–∞ [platform.openai.com](https://platform.openai.com/)
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ key –Ω–µ expired
3. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π key —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ
4. –û–Ω–æ–≤—ñ—Ç—å credentials –≤ n8n

**Error:** "Insufficient Quota"

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ OpenAI account
2. –î–æ–¥–∞–π—Ç–µ payment method
3. –ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –¥–µ—à–µ–≤—à—É –º–æ–¥–µ–ª—å (gpt-3.5-turbo)

### –ü—Ä–æ–±–ª–µ–º–∞: AI –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–µ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –º–æ–≤–æ—é

**–†—ñ—à–µ–Ω–Ω—è:**
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ **AI Agent** node
2. –£ **System Message** —è–≤–Ω–æ –≤–∫–∞–∂—ñ—Ç—å:
   ```
   –í–ê–ñ–õ–ò–í–û: –í—ñ–¥–ø–æ–≤—ñ–¥–∞–π –¢–Ü–õ–¨–ö–ò —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é!
   ```
3. –£ prompt template –¥–æ–¥–∞–π—Ç–µ:
   ```
   –í—ñ–¥–ø–æ–≤—ñ–¥–∞–π —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è:
   {{ $json.text }}
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –ª–æ–≥—É—î—Ç—å—Å—è –≤ Google Sheets

**Error:** "Insufficient permissions"

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–æ–≤—Ç–æ—Ä–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ Google Sheets OAuth
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ –¥–æ–∑–≤–æ–ª–∏–ª–∏ –¥–æ—Å—Ç—É–ø –¥–æ Google Sheets
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ Sheet ID –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ sheet name —ñ—Å–Ω—É—î

**Error:** "Unable to parse range"

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞–∑–≤—É –ª–∏—Å—Ç–∞ (Sheet1, –õ–∏—Å—Ç1, etc.)
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ –ø–µ—Ä—à–æ–º—É —Ä—è–¥–∫—É
3. –£ **Log to Google Sheets** node –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ column mapping

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ–≤—ñ–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞

**–°–∏–º–ø—Ç–æ–º–∏:** Workflow –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –¥–æ–≤–≥–æ

**–†—ñ—à–µ–Ω–Ω—è:**
1. **–ó–º–µ–Ω—à–∏—Ç–∏ Memory Window:**
   - Simple Memory ‚Üí contextWindowLength: 50 ‚Üí 10
2. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —à–≤–∏–¥—à—É –º–æ–¥–µ–ª—å:**
   - gpt-3.5-turbo –∑–∞–º—ñ—Å—Ç—å gpt-4
3. **–ó–º–µ–Ω—à–∏—Ç–∏ Max Tokens:**
   - OpenAI Model ‚Üí Options ‚Üí Max Tokens: 150
4. **–û–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ System Prompt:**
   - –ö–æ—Ä–æ—Ç—à—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó

### –ü—Ä–æ–±–ª–µ–º–∞: AI –Ω–µ –ø–∞–º'—è—Ç–∞—î –∫–æ–Ω—Ç–µ–∫—Å—Ç

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ **Simple Memory** –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏–π –¥–æ AI Agent
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Session Key:
   ```
   sessionKey: "={{ $json.threadId }}"
   ```
3. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ threadId –ø—Ä–∏—Å—É—Ç–Ω—ñ–π –≤ –¥–∞–Ω–∏—Ö
4. –ó–±—ñ–ª—å—à—ñ—Ç—å contextWindowLength —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ

## –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è —Ç–∞ –ö–∞—Å—Ç–æ–º—ñ–∑–∞—Ü—ñ—è

### –î–æ–¥–∞—Ç–∏ –§—ñ–ª—å—Ç—Ä –∑–∞ Label

–£ **Gmail Trigger**:

```json
{
  "filters": {
    "readStatus": "unread",
    "labelIds": ["Label_123456789"]
  }
}
```

–Ø–∫ –∑–Ω–∞–π—Ç–∏ Label ID:
1. Gmail ‚Üí Settings ‚Üí Labels
2. –ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ Gmail API Explorer

### –î–æ–¥–∞—Ç–∏ CC (Copy)

–£ **Send Gmail Reply**:

```json
{
  "options": {
    "ccList": "manager@company.com, team@company.com"
  }
}
```

### –î–æ–¥–∞—Ç–∏ Attachments Handling

–î–æ–¥–∞–π—Ç–µ node –ø—ñ—Å–ª—è Gmail Trigger:

1. **Extract Attachments** node
2. **Process** —á–µ—Ä–µ–∑ AI (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏)
3. **Attach** –¥–æ reply (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)

### –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ CRM

–ü—ñ—Å–ª—è **Log to Google Sheets** –¥–æ–¥–∞–π—Ç–µ:

1. **HTTP Request** node
2. –í—ñ–¥–ø—Ä–∞–≤—Ç–µ –¥–∞–Ω—ñ –≤ CRM API:
```json
{
  "method": "POST",
  "url": "https://your-crm.com/api/leads",
  "body": {
    "email": "{{ $json.to }}",
    "message": "{{ $json.message }}",
    "source": "AI Email Assistant"
  }
}
```

### Sentiment Analysis

–î–æ–¥–∞–π—Ç–µ **AI Agent Tool** –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É —Ç–æ–Ω—É:

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –æ–∫—Ä–µ–º–∏–π AI Agent –¥–ª—è sentiment
2. Output: positive/neutral/negative
3. –î–æ–¥–∞–π—Ç–µ –∫–æ–ª–æ–Ω–∫—É –≤ Google Sheets
4. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –¥–ª—è –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏

### –ú—É–ª—å—Ç–∏-–º–æ–≤–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞

–î–æ–¥–∞–π—Ç–µ **Language Detection** node:

```javascript
// Function node
const text = $input.item.json.text;
const ukrainianPattern = /[–∞-—è—ñ—ó—î“ë–ê-–Ø–Ü–á–Ñ“ê]/;
const englishPattern = /[a-zA-Z]/;

let language = 'en';
if (ukrainianPattern.test(text)) {
  language = 'uk';
}

return { language };
```

–ü–æ—Ç—ñ–º –≤ AI Agent prompt:
```
Respond in {{ $json.language === 'uk' ? 'Ukrainian' : 'English' }}
```

## Best Practices

### –ë–µ–∑–ø–µ–∫–∞

‚úÖ **Credentials:**
- –ù—ñ–∫–æ–ª–∏ –Ω–µ –¥—ñ–ª—ñ—Ç—å—Å—è OAuth tokens
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–Ω–æ–≤–ª—é–π—Ç–µ API keys
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –æ–∫—Ä–µ–º—ñ credentials –¥–ª—è dev/prod

‚úÖ **Privacy:**
- –ù–µ –ª–æ–≥—É–π—Ç–µ —á—É—Ç–ª–∏–≤—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é (passwords, payment data)
- –î–æ–¥–∞–π—Ç–µ —Ñ—ñ–ª—å—Ç—Ä –¥–ª—è –≤–∏–∫–ª—é—á–µ–Ω–Ω—è –ø–µ–≤–Ω–∏—Ö emails
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ—á–∏—â–∞–π—Ç–µ —Å—Ç–∞—Ä—ñ –ª–æ–≥–∏ –∑ Google Sheets

‚úÖ **Rate Limiting:**
- –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å —Ä–æ–∑—É–º–Ω—ñ poll intervals
- –ù–µ —Ä–æ–±—ñ—Ç—å –∑–∞–Ω–∞–¥—Ç–æ —á–∞—Å—Ç—ñ –∑–∞–ø–∏—Ç–∏ –¥–æ APIs
- –ú–æ–Ω—ñ—Ç–æ—Ä—å—Ç–µ OpenAI usage

### –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å

‚úÖ **–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ gpt-3.5-turbo –¥–ª—è –ø—Ä–æ—Å—Ç–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤
- –û–±–º–µ–∂—É–π—Ç–µ Max Tokens
- –ó–º–µ–Ω—à—É–π—Ç–µ Memory Window —è–∫—â–æ –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω –≤–µ–ª–∏–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç

‚úÖ **–ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è:**
- –î–æ–¥–∞–π—Ç–µ error retry logic
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ batch processing –¥–ª—è –±–∞–≥–∞—Ç—å–æ—Ö emails
- –†–æ–∑–¥—ñ–ª—ñ—Ç—å –Ω–∞ –∫—ñ–ª—å–∫–∞ workflows –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è—Ö

### –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

‚úÖ **Tracking:**
- –†–µ–≥—É–ª—è—Ä–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ Executions tab
- –ù–∞–ª–∞—à—Ç—É–π—Ç–µ error notifications
- –í—ñ–¥—Å—Ç–µ–∂—É–π—Ç–µ OpenAI –≤–∏—Ç—Ä–∞—Ç–∏

‚úÖ **Analytics:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Google Sheets –¥–ª—è insights
- –ê–Ω–∞–ª—ñ–∑—É–π—Ç–µ response time
- –ú–æ–Ω—ñ—Ç–æ—Ä—å—Ç–µ user satisfaction

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

‚úÖ **Before Production:**
- –¢–µ—Å—Ç—É–π—Ç–µ –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Ç–∏–ø–∞–º–∏ emails
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ edge cases
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ AI –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –∫–æ—Ä–µ–∫—Ç–Ω—ñ
- –¢–µ—Å—Ç—É–π—Ç–µ error scenarios

## FAQ

**Q: –°–∫—ñ–ª—å–∫–∏ –∫–æ—à—Ç—É—î –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Ü–µ–π workflow?**

A: –í–∏—Ç—Ä–∞—Ç–∏ —Å–∫–ª–∞–¥–∞—é—Ç—å—Å—è –∑:
- **n8n Cloud:** –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π tier –¥–æ—Å—Ç—É–ø–Ω–∏–π (5000 executions/–º—ñ—Å—è—Ü—å)
- **OpenAI API:**
  - GPT-5-nano: ~$0.0001-0.001 per email
  - GPT-3.5-turbo: ~$0.001-0.002 per email
  - GPT-4: ~$0.01-0.05 per email
- **Gmail API:** –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ
- **Google Sheets API:** –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ

**Q: –ß–∏ –º–æ–∂—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è –±—ñ–∑–Ω–µ—Å—É?**

A: –¢–∞–∫, –∞–ª–µ –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ:
- –î–æ—Ç—Ä–∏–º—É—î—Ç–µ—Å—å OpenAI Terms of Service
- –ú–∞—î—Ç–µ –¥–æ–∑–≤—ñ–ª –æ–±—Ä–æ–±–ª—è—Ç–∏ –∫–ª—ñ—î–Ω—Ç—Å—å–∫—ñ emails
- –í—ñ–¥–ø–æ–≤—ñ–¥–∞—î GDPR/privacy regulations

**Q: –Ø–∫ –¥–æ–¥–∞—Ç–∏ –ª—é–¥—Å—å–∫—É –º–æ–¥–µ—Ä–∞—Ü—ñ—é?**

A: –î–æ–¥–∞–π—Ç–µ approval step:
1. –ü—ñ—Å–ª—è AI Agent –¥–æ–¥–∞–π—Ç–µ **Wait** node
2. –í—ñ–¥–ø—Ä–∞–≤—Ç–µ notification –ª—é–¥–∏–Ω—ñ
3. –õ—é–¥–∏–Ω–∞ approve/reject —á–µ—Ä–µ–∑ webhook
4. –¢—ñ–ª—å–∫–∏ –ø—ñ—Å–ª—è approve –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è email

**Q: –ß–∏ –º–æ–∂–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ –Ω–∞ attachments?**

A: –ß–∞—Å—Ç–∫–æ–≤–æ - —Ç–µ–∫—Å—Ç–æ–≤—ñ —Ñ–∞–π–ª–∏ –º–æ–∂–Ω–∞ –æ–±—Ä–æ–±–ª—è—Ç–∏. –î–ª—è –∑–æ–±—Ä–∞–∂–µ–Ω—å –ø–æ—Ç—Ä—ñ–±–Ω–∞ GPT-4 Vision (–¥–æ–¥–∞–π—Ç–µ –æ–∫—Ä–µ–º–∏–π node).

**Q: –Ø–∫ –æ–±—Ä–æ–±–ª—è—Ç–∏ spam?**

A: –î–æ–¥–∞–π—Ç–µ spam detection:
1. Gmail filter: –≤–∏–∫–ª—é—á—ñ—Ç—å spam folder
2. AI Agent: –¥–æ–¥–∞–π—Ç–µ spam classification –≤ prompt
3. Conditional node: skip —è–∫—â–æ spam

**Q: –ú–∞–∫—Å–∏–º—É–º —Å–∫—ñ–ª—å–∫–∏ emails –º–æ–∂–µ –æ–±—Ä–æ–±–∏—Ç–∏?**

A: –ó–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥:
- n8n plan limits
- OpenAI rate limits
- Gmail API quotas

–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π n8n: ~5000 executions/–º—ñ—Å—è—Ü—å

**Q: –ß–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è attachments?**

A: –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –Ω—ñ. –î–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è:
1. Extract attachments –≤—ñ–¥ Gmail
2. Upload –¥–æ Google Drive —á–µ—Ä–µ–∑ –æ–∫—Ä–µ–º–∏–π node
3. –î–æ–¥–∞–π—Ç–µ link –≤ Google Sheets log

**Q: –Ø–∫ –≤–∏–¥–∞–ª–∏—Ç–∏ workflow?**

A:
1. –î–µ–∞–∫—Ç–∏–≤—É–π—Ç–µ workflow (–≤–∏–º–∫–Ω—ñ—Ç—å Active toggle)
2. Workflows ‚Üí —Ç—Ä–∏ –∫—Ä–∞–ø–∫–∏ ‚Üí Delete
3. Google Sheet –∑–∞–ª–∏—à–∏—Ç—å—Å—è (–≤–∏–¥–∞–ª—ñ—Ç—å –≤—Ä—É—á–Ω—É —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –≤—ñ–¥–∫—Ä–∏—Ç–∏–π –ø—ñ–¥ –ª—ñ—Ü–µ–Ω–∑—ñ—î—é MIT.

```
MIT License

Copyright (c) 2024 Sergiy Shcherbakov

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
```

## –ü–æ–¥—è–∫–∏

- **n8n Team** ‚Äî –∑–∞ —á—É–¥–æ–≤—É –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó
- **OpenAI** ‚Äî –∑–∞ –ø–æ—Ç—É–∂–Ω—ñ –º–æ–≤–Ω—ñ –º–æ–¥–µ–ª—ñ
- **Google** ‚Äî –∑–∞ Gmail —Ç–∞ Google Sheets APIs
- **AI Automation Community** ‚Äî –∑–∞ –Ω–∞—Ç—Ö–Ω–µ–Ω–Ω—è —Ç–∞ best practices

## –†–µ—Å—É—Ä—Å–∏

### –û—Ñ—ñ—Ü—ñ–π–Ω–∞ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- **n8n Cloud** ‚Äî [app.n8n.cloud](https://app.n8n.cloud/)
- **n8n Docs** ‚Äî [docs.n8n.io](https://docs.n8n.io/)
- **Gmail API** ‚Äî [developers.google.com/gmail/api](https://developers.google.com/gmail/api)
- **Google Sheets API** ‚Äî [developers.google.com/sheets/api](https://developers.google.com/sheets/api)
- **OpenAI API** ‚Äî [platform.openai.com/docs](https://platform.openai.com/docs)

### –¢—É—Ç–æ—Ä—ñ–∞–ª–∏
- **n8n Academy** ‚Äî [docs.n8n.io/courses](https://docs.n8n.io/courses/)
- **LangChain Integration** ‚Äî [docs.n8n.io/integrations/langchain](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain/)
- **Gmail Automation** ‚Äî [n8n community templates](https://n8n.io/workflows/)

### Community
- **n8n Forum** ‚Äî [community.n8n.io](https://community.n8n.io/)
- **n8n Discord** ‚Äî [discord.gg/n8n](https://discord.gg/n8n)

---

**–ê–≤—Ç–æ–º–∞—Ç–∏–∑—É–π—Ç–µ email –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—é –∑ AI!** üöÄ
