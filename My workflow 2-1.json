{
  "name": "My workflow 2",
  "nodes": [
    {
      "parameters": {
        "pollTimes": {
          "item": [
            {
              "hour": 13
            }
          ]
        },
        "simple": false,
        "filters": {
          "readStatus": "unread"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.gmailTrigger",
      "typeVersion": 1.3,
      "position": [
        -912,
        -144
      ],
      "id": "f83efbf0-0e89-4552-b481-5222f385fc66",
      "name": "Gmail Trigger"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=–¢–µ–º–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: {{ $json.subject }}\n–¢–µ–∫—Å—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: {{ $json.text || $json.html || $json.textAsHtml }}\n–í—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫: {{ $json.from.value[0].address }}\n–û–¥–µ—Ä–∂—É–≤–∞—á: {{ $json.to.value[0].address }}\n–î–∞—Ç–∞: {{ $json.date }}\nThread ID: {{ $json.threadId }}\nMessage ID: {{ $json.messageId }}\n",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "üéì –¢–ò - –ï–ö–°–ü–ï–†–¢-–ö–û–ù–°–£–õ–¨–¢–ê–ù–¢\n–¢–∏ –¥–æ—Å–≤—ñ–¥—á–µ–Ω–∏–π –∞–∫–∞–¥–µ–º—ñ–∫, —è–∫–∏–π –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ—Å—Ç–∏–º–∏, –∑—Ä–æ–∑—É–º—ñ–ª–∏–º–∏ —Ä–µ—á–µ–Ω–Ω—è–º–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é. –ú–∞–∫—Å–∏–º—É–º 100 —Å–ª—ñ–≤.\n\nüì® –¢–í–û–Ø –ó–ê–î–ê–ß–ê\n1. –ü—Ä–æ—á–∏—Ç–∞–π –ü–ò–¢–ê–ù–ù–Ø –∑ \"–¢–µ–∫—Å—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è\"\n2. –î–∞–π –µ–∫—Å–ø–µ—Ä—Ç–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å —è–∫ –∞–∫–∞–¥–µ–º—ñ–∫ –ø—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏\n3. –¢–≤–æ—è –≤—ñ–¥–ø–æ–≤—ñ–¥—å –±—É–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–∞ email —Ç–∞ –∑–∞–ø–∏—Å–∞–Ω–∞ –≤ Google Sheets\n\nüìù –°–¢–ò–õ–¨ –í–Ü–î–ü–û–í–Ü–î–ï–ô\n- –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ –ø–æ —Å—É—Ç—ñ –ø–∏—Ç–∞–Ω–Ω—è\n- –ë–µ–∑ \"–≤–æ–¥–∏\" —Ç–∞ –∑–∞–≥–∞–ª—å–Ω–∏—Ö —Ñ—Ä–∞–∑  \n- –î—Ä—É–∂–Ω—å–æ —Ç–∞ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ\n- –ú–∞–∫—Å–∏–º—É–º 100 —Å–ª—ñ–≤ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é\n\n–ü—Ä–∏–∫–ª–∞–¥:\n–ü–∏—Ç–∞–Ω–Ω—è: \"—è–∫ —Å—Ç–∞—Ç–∏ –±–∞–≥–∞—Ç–∏–º\"\n–í—ñ–¥–ø–æ–≤—ñ–¥—å: \"–ë–∞–≥–∞—Ç—Å—Ç–≤–æ –±—É–¥—É—î—Ç—å—Å—è –Ω–∞ —Ç—Ä—å–æ—Ö –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö: —ñ–Ω–≤–µ—Å—Ç—É–π—Ç–µ 10-20% –¥–æ—Ö–æ–¥—É –≤ —ñ–Ω–¥–µ–∫—Å–Ω—ñ —Ñ–æ–Ω–¥–∏, —Ä–æ–∑–≤–∏–≤–∞–π—Ç–µ —Ü—ñ–Ω–Ω—ñ –Ω–∞–≤–∏—á–∫–∏, —Å—Ç–≤–æ—Ä—é–π—Ç–µ –ø–∞—Å–∏–≤–Ω—ñ –¥–∂–µ—Ä–µ–ª–∞ –¥–æ—Ö–æ–¥—É. –ì–æ–ª–æ–≤–Ω–µ - –ø–æ—á–Ω—ñ—Ç—å –∑–∞—Ä–∞–∑, –Ω–∞–≤—ñ—Ç—å –∑ –º–∞–ª–∏—Ö —Å—É–º. –ß–∞—Å –≤–∞—à –Ω–∞–π–∫—Ä–∞—â–∏–π —Å–æ—é–∑–Ω–∏–∫ –∑–∞–≤–¥—è–∫–∏ —Å–∫–ª–∞–¥–Ω–∏–º –≤—ñ–¥—Å–æ—Ç–∫–∞–º.\"\n\n‚ö†Ô∏è –í–ê–ñ–õ–ò–í–û: –ù–ï –ü–ï–†–ï–°–ò–õ–ê–ô –ü–ò–¢–ê–ù–ù–Ø - –í–Ü–î–ü–û–í–Ü–î–ê–ô –ù–ê –ù–¨–û–ì–û!"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        -704,
        -144
      ],
      "id": "0b03ba42-a7e2-41a6-bcb1-58434e8b0551",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $json.threadId }}",
        "contextWindowLength": 50
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        -704,
        32
      ],
      "id": "bb7b6720-2f19-49c2-ad13-f315c7e80222",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"to\": \"email –æ—Ç—Ä–∏–º—É–≤–∞—á–∞\",\n  \"topic\": \"—Ç–µ–º–∞ –ª–∏—Å—Ç–∞\",\n  \"message\": \"—Ç–µ–∫—Å—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ\"\n}\n\n"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        -288,
        64
      ],
      "id": "4b4f5ea7-b72b-44db-bde8-240fb3901433",
      "name": "Structured Output Parser"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-5-nano",
          "mode": "list",
          "cachedResultName": "gpt-5-nano"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -848,
        64
      ],
      "id": "49e54d46-2e0d-4778-b699-576ff1fecd13",
      "name": "OpenAI Chat Model"
    },
    {
      "parameters": {
        "sendTo": "={{ $node['Gmail Trigger'].json['from']['value'][0]['address'] }}",
        "subject": "=Re: {{ $node['Gmail Trigger'].json['subject'] }}",
        "message": "={{ $json.output.message }}",
        "options": {
          "replyTo": "={{ $node['Gmail Trigger'].json['to']['value'][0]['address'] }}"
        }
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        -208,
        -288
      ],
      "id": "ae5ab79c-3dc9-40bd-b7f0-cd714769d5ca",
      "name": "Send Gmail Reply"
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "YOUR_GOOGLE_SHEET_ID",
          "mode": "list"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "to": "={{ $node['Gmail Trigger'].json['from']['value'][0]['address'] }}",
            "message": "={{ $json.output.message }}",
            "subject": "={{ $node['Gmail Trigger'].json['subject'] }}",
            "threadId": "={{ $node['Gmail Trigger'].json['threadId'] }}",
            "date": "={{ $node['Gmail Trigger'].json['date'] }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "to",
              "displayName": "to",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "message",
              "displayName": "message",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "subject",
              "displayName": "subject",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "threadId",
              "displayName": "threadId",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "date",
              "displayName": "date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -176,
        -96
      ],
      "id": "d129bc8a-2a1b-4853-a76d-c3ecca08a17d",
      "name": "Log to Google Sheets"
    }
  ],
  "pinData": {},
  "connections": {
    "Gmail Trigger": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Send Gmail Reply",
            "type": "main",
            "index": 0
          },
          {
            "node": "Log to Google Sheets",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "AI Agent",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "tags": []
}